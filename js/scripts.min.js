var BlackHole,Particle,_MAX_PARTICLES,_PARTICLE_DECAY_RATE,_animate,_canvas,_clearCanvas,_context,_getRandomInRange,_getRandomIntInRange,_screenHeight,_screenWidth,blackHoles,i,j,mousePosition,move,part,particles,ref,resizeCanvas,bind=function(e,t){return function(){return e.apply(t,arguments)}};for(_MAX_PARTICLES=100,_PARTICLE_DECAY_RATE=.005,_screenHeight=window.innerHeight,_screenWidth=window.innerWidth,_canvas=document.getElementById("canvas"),_context=_canvas.getContext("2d"),resizeCanvas=function(){_screenHeight=window.innerHeight,_screenWidth=window.innerWidth,_canvas.width=_screenWidth,_canvas.height=_screenHeight},mousePosition=function(e){var t,n;n=_canvas.getBoundingClientRect(),t={x:e.clientX-rect.left,y:e.clientY-rect.top},console.log(t)},_clearCanvas=function(){return _context.clearRect(0,0,_screenWidth,_screenHeight)},_getRandomIntInRange=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},_getRandomInRange=function(e,t){return Math.random()*(t-e+1)+e},Particle=function(){function e(){this.draw=bind(this.draw,this),this.x=_getRandomIntInRange(0,_screenWidth),this.y=_getRandomIntInRange(0,_screenHeight),this.size=_getRandomInRange(1.5,2),this.lifeForce=0,this.lifePeak=!1,this.maxLifeForce=_getRandomInRange(.45,1),this.velocity=[_getRandomInRange(-1,1),_getRandomInRange(-1,1),_getRandomInRange(-1,1)]}return e.prototype.draw=function(){return this.lifeForce<=0&&this.lifePeak&&this.constructor(),this.lifePeak?this.lifeForce-=_PARTICLE_DECAY_RATE:this.lifePeak||(this.lifeForce+=_PARTICLE_DECAY_RATE),this.lifeForce>=this.maxLifeForce&&(this.lifePeak=!0),this.x+=this.velocity[0],this.x>_screenWidth?this.x=0:this.x<0&&(this.x=_screenWidth),this.y+=this.velocity[1],this.y>_screenHeight?this.y=0:this.y<0&&(this.y=_screenHeight),_context.beginPath(),_context.arc(this.x,this.y,this.size,0,2*Math.PI,!1),_context.fillStyle="rgba(255, 255, 255, "+this.lifeForce+")",_context.fill()},e}(),BlackHole=function(){function e(e,t){null==e&&(e=0),null==t&&(t=0),this.draw=bind(this.draw,this),this.x=e,this.y=t,this.size=10}return e.prototype.draw=function(){return _context.beginPath(),_context.fillStyle="#804C1A",_context.fillRect(this.x,this.y,this.size,this.size),_context.fill()},e}(),_animate=function(){var e,t,n,i,a,s;for(_clearCanvas(),t=0,i=particles.length;i>t;t++)s=particles[t],s.draw();for(n=0,a=blackHoles.length;a>n;n++)e=blackHoles[n],e.draw();return requestAnimationFrame(_animate)},move=function(e){var t,n;t=e.clientX-5.5,n=e.clientY-6,blackHoles.push(new BlackHole(t,n))},particles=[],blackHoles=[],i=j=0,ref=_MAX_PARTICLES;ref>=j;i=j+=1)part=new Particle,particles.push(part);resizeCanvas(),window.addEventListener("resize",resizeCanvas,!1),_canvas.addEventListener("click",function(e){return move(e,!1)}),_animate();